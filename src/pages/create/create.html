<ion-header>

  <ion-navbar>
    <ion-title>Meus estabelecimentos</ion-title>
    <ion-buttons end (click)="newEstab()">
      <button ion-button icon-only color="primary" class="btn_search">
        <ion-icon name="icon-cancel" style="transform:rotate(45deg)"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <p style="font-size:1.1em;text-align:center">Empresário, cadastre aqui seus estabelecimentos para aproveitar todas as vantagens que oferecemos.</p>
  <ion-list>
    <ion-item style="white-space:normal" *ngIf="(list | async)?.length == 0">
      <p>Não há nenhum estabelecimento vinculado à essa conta.</p>
    </ion-item>
    <ion-item  *ngFor="let a of allCasas">
      <button ion-button clear (click)="changeProfile(a.id)" [disabled]="!a.valid" class="nome">{{a.nome}}</button><br>
      <span class="cidade">{{a.cidade}}</span><br>
      <i class="cidade" style="color:#652C90" *ngIf="!a.valid">Em processo de validação</i>
      <ion-icon name="icon-edit" *ngIf="a.edit" item-end style="margin-right:16px;" (click)="editEstab(a.id)"></ion-icon>
      <ion-icon name="icon-del" *ngIf="a.edit" item-end (click)="removeEstab(a.key, a.id,a.adms)"></ion-icon>
    </ion-item>
  </ion-list>
</ion-content>
